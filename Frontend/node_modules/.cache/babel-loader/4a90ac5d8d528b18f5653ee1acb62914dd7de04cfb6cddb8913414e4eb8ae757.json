{"ast":null,"code":"import http from \"./httpService\";\nimport config from \"../config.json\";\nimport jwtDecode from \"jwt-decode\";\nconst apiEndpoint = config.apiUrl + \"/auth\";\nconst tokenKey = \"token\";\nexport async function login(email, password) {\n  const {\n    data: jwt\n  } = await http.post(apiEndpoint, {\n    email,\n    password\n  });\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  login,\n  loginWithJwt,\n  logout,\n  getCurrentUser\n};","map":{"version":3,"names":["http","config","jwtDecode","apiEndpoint","apiUrl","tokenKey","login","email","password","data","jwt","post","localStorage","setItem","loginWithJwt","logout","removeItem","getCurrentUser","getItem","ex"],"sources":["C:/Personal/Vidly-backend/Frontend/src/services/authService.js"],"sourcesContent":["import http from \"./httpService\";\r\nimport config from \"../config.json\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst apiEndpoint = config.apiUrl + \"/auth\";\r\nconst tokenKey = \"token\"\r\n\r\nexport async function login(email, password) {\r\n  const { data: jwt } = await http.post(apiEndpoint, { email, password });\r\n  localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport function loginWithJwt(jwt) {\r\n  localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  try {\r\n    const jwt = localStorage.getItem(tokenKey);\r\n    return jwtDecode(jwt);\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  login,\r\n  loginWithJwt,\r\n  logout,\r\n  getCurrentUser,\r\n};\r\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,eAAe;AAChC,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,WAAW,GAAGF,MAAM,CAACG,MAAM,GAAG,OAAO;AAC3C,MAAMC,QAAQ,GAAG,OAAO;AAExB,OAAO,eAAeC,KAAK,CAACC,KAAK,EAAEC,QAAQ,EAAE;EAC3C,MAAM;IAAEC,IAAI,EAAEC;EAAI,CAAC,GAAG,MAAMV,IAAI,CAACW,IAAI,CAACR,WAAW,EAAE;IAAEI,KAAK;IAAEC;EAAS,CAAC,CAAC;EACvEI,YAAY,CAACC,OAAO,CAACR,QAAQ,EAAEK,GAAG,CAAC;AACrC;AAEA,OAAO,SAASI,YAAY,CAACJ,GAAG,EAAE;EAChCE,YAAY,CAACC,OAAO,CAACR,QAAQ,EAAEK,GAAG,CAAC;AACrC;AAEA,OAAO,SAASK,MAAM,GAAG;EACvBH,YAAY,CAACI,UAAU,CAACX,QAAQ,CAAC;AACnC;AAEA,OAAO,SAASY,cAAc,GAAG;EAC/B,IAAI;IACF,MAAMP,GAAG,GAAGE,YAAY,CAACM,OAAO,CAACb,QAAQ,CAAC;IAC1C,OAAOH,SAAS,CAACQ,GAAG,CAAC;EACvB,CAAC,CAAC,OAAOS,EAAE,EAAE;IACX,OAAO,IAAI;EACb;AACF;;AAEA;AACA,eAAe;EACbb,KAAK;EACLQ,YAAY;EACZC,MAAM;EACNE;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}